<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">
    <title>Encriptar - Desencriptar</title>
</head>
<body>
    <header class="titulo">
        <h1>Encriptador y Desencriptador</h1>



    </header>

    <main>
        

        <div class="caja">
            
            

            <div class="bloque-entrada">
                <form class="entrada" onsubmit="return false">               
                    <!--<input type="text" id="inputText" placeholder="Caja de texto 1"><br>-->
                    <textarea name="" id="inputText" placeholder="Ingrese su texto aquí..."></textarea>
    
                </form>
                <form class="botones-entrada" onsubmit="return false">
                    <input type="submit" value="Encriptar" id="encriptar">
                    <!--<button id="encriptar">Encriptar</button>-->
                    <input id="desencriptar" type="submit" value="Desencriptar">
                </form>
            </div>

            <div class="bloque-salida">
                <form class="salida" onsubmit="return false">
                    <textarea readonly name="" id="outputText"  placeholder="Ningún mensaje fue encontrado"></textarea><br>
                    <!--<input type="text" id="outputText" placeholder="Caja de texto 2">-->
                </form> 
    
                <form class="boton-copia" onsubmit="return false">
                    <input id="copia" type="submit" value="Copiar" class="copiar"><span id="copiarResp"></span>
                </form>

                <form class="borrar">
                    <input type="submit" value="⟲" id="borrar">
                </form>
            </div>

            
            <script>
                var erase = document.getElementById("borrar");
                erase.addEventListener('click', function(e){
                    document.getElementById("outputText") = "";
                    document.getElementById("inputText") = "";
                });
            </script>
            
    
        </div>

        <!--
            La letra "a" es convertida para "ai"
            La letra "e" es convertida para "enter"
            La letra "i" es convertida para "imes"       
            La letra "o" es convertida para "ober"
            La letra "u" es convertida para "ufat"
        -->

        <script>
            var textarea     = document.getElementById("inputText");         
            var cryptar      = document.getElementById("encriptar");
            var desencryptar = document.getElementById("desencriptar");
            

            cryptar.addEventListener('click', function(e) {
                // Seleccionando el texto
                // alert(textarea.value);
                var frase1 = textarea.value;
                var frase2 = "";
                
                for (var i = 0; i < frase1.length; i++){
                    if (frase1[i] == "a"){
                        frase2 = frase2 + "ai";
                    }else if (frase1[i] == "e"){
                        frase2 = frase2 + "enter";
                    }else if (frase1[i] == "i"){
                        frase2 = frase2 + "imes";
                    }else if (frase1[i] == "o"){
                        frase2 = frase2 + "ober";
                    }else if (frase1[i] == "u"){
                        frase2 = frase2 + "ufat";
                    }else {
                        frase2 = frase2 + frase1[i];
                    }
                    console.log(frase2)
                }
                document.getElementById("outputText").innerHTML = frase2;
                //alert(frase2)

                // Debo tomar la frase que sea, detectar cada palabra,luego cada letra, compararla con mis condiciones y luego cambiarlas  la condición dada, después ese resultado mostrarlo en la segunda caja de texto
             });

            desencryptar.addEventListener('click', function(e) {
                // Seleccionando el texto
                // alert(textarea.value);
                var frase3 = textarea.value;
                var frase4 = frase3;
                var cadena = ["ai","enter","imes","ober","ufat"];
                prueba = true;

                while (prueba == true){
                    console.log(prueba);
                    frase4 = frase4.replace("ai","a");
                    frase4 = frase4.replace("enter","e");
                    frase4 = frase4.replace("imes","i");
                    frase4 = frase4.replace("ober","o");
                    frase4 = frase4.replace("ufat","u");
                    console.log(prueba);
                    if (frase4.includes("ai")){
                        continue;
                    }else if (frase4.includes("enter")){
                        continue;
                    }else if (frase4.includes("imes")){
                        continue;
                    }else if (frase4.includes("ober")){
                        continue;   
                    }else if (frase4.includes("ufat")){
                        continue;
                    }else {
                        prueba = false;
                    } 
                    
                }
                console.log(prueba)
                document.getElementById("outputText").innerHTML = frase4;
                //alert(frase2)

                // Debo tomar la frase que sea, detectar cada palabra,luego cada letra, compararla con mis condiciones y luego cambiarlas  la condición dada, después ese resultado mostrarlo en la segunda caja de texto
            });

            var textsalida = document.getElementById("outputText");
            var copyar     = document.getElementById("copia");
            var respuesta  = document.getElementById("copiarResp");
            copyar.addEventListener('click', function(e) {
                // Seleccionando el texto
                textsalida.select(); 
                try {
                    // Copiando el texto seleccionado
                    var exito = document.execCommand('copy');
              
                    if(exito) respuesta.innerHTML = 'Copiado!';
                    else respuesta.innerHTML = 'No se pudo copiar!';
                } catch (err) {
                    respuesta.innerHTML = 'Navegador no soportado!';
                }
             });
        </script>

        
    </main>
</body>
</html>